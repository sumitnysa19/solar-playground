const fs = require('fs'); const src = 'assets/constellations.lines.json'; const dst = 'assets/constellations.json'; const data = JSON.parse(fs.readFileSync(src, 'utf8')); const out = data.features.map(f => {   const name = (f.properties && (f.properties.name || f.id)) || 'Unknown';   const segs = [];   const lines = f.geometry.type === 'MultiLineString'     ? f.geometry.coordinates     : [f.geometry.coordinates];   lines.forEach(line => {     for (let i = 1; i < line.length; i++) {       const a = line[i - 1], b = line[i];       segs.push([[a[0], a[1]], [b[0], b[1]]]);     }   });   return { name, lines: segs }; }); fs.writeFileSync(dst, JSON.stringify(out)); console.log('Wrote', dst, 'with', out.length, 'constellations.');